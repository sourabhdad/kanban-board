{"ast":null,"code":"var _jsxFileName = \"/home/sourabh/n_t/kanban/src/components/Board/Board.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styles from './board.module.css';\nimport CardContainer from './CardContainer';\nimport { useGroupPriority } from '../../providers/GroupPriorityProvider';\nimport useFetch from '../../hooks/useFetch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Board = () => {\n  _s();\n  const {\n    grouping,\n    priority\n  } = useGroupPriority();\n  let {\n    data,\n    loading,\n    error\n  } = useFetch('https://api.quicksell.co/v1/internal/frontend-assignment');\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 14\n    }, this);\n  }\n  data.tickets = sortTickets(data === null || data === void 0 ? void 0 : data.tickets, priority);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 14\n    }, this);\n  }\n\n  // console.log('data from board', data);\n  switch (grouping) {\n    case 'STATUS':\n      return BoardByStatus(data, grouping);\n    case 'USER':\n      return BoardByUser(data, grouping);\n    case 'PRIORITY':\n      return BoardByPriority(data, grouping);\n    default:\n      return BoardByStatus(data, grouping);\n  }\n};\n_s(Board, \"Lj191wUpDHn+j2HPWlygZZbEoao=\", false, function () {\n  return [useGroupPriority, useFetch];\n});\n_c = Board;\nfunction sortTickets(tickets, sortBy) {\n  const ticketsCopy = [...tickets];\n  return ticketsCopy.sort((a, b) => {\n    if (sortBy === \"PRIORITY\") {\n      return b.priority - a.priority;\n    } else if (sortBy === \"TITLE\") {\n      return a.title.localeCompare(b.title);\n    } else {\n      return 0;\n    }\n  });\n}\nfunction groupTicketsByStatus(tickets) {\n  return tickets.reduce((acc, ticket) => {\n    const status = ticket.status === \"In progress\" ? \"IN_PROGRESS\" : ticket.status.toUpperCase();\n    if (!acc[status]) {\n      acc[status] = [];\n    }\n    acc[status].push(ticket);\n    return acc;\n  }, {});\n}\nfunction groupTicketsByUser(tickets) {\n  return tickets.reduce((acc, ticket) => {\n    const userId = ticket.userId; // Get the userId from the ticket\n\n    // Initialize an array for the user if it doesn't exist\n    if (!acc[userId]) {\n      acc[userId] = [];\n    }\n\n    // Push the ticket into the corresponding user's array\n    acc[userId].push(ticket);\n    return acc;\n  }, {});\n}\nfunction groupTicketsByPriority(tickets) {\n  return tickets.reduce((acc, ticket) => {\n    const priority = ticket.priority; // Get the priority from the ticket\n\n    // Initialize an array for the priority if it doesn't exist\n    if (!acc[priority]) {\n      acc[priority] = [];\n    }\n\n    // Push the ticket into the corresponding priority's array\n    acc[priority].push(ticket);\n    return acc;\n  }, {});\n}\nconst BoardByStatus = (data, grouping, priority) => {\n  const STATUS_OPTIONS = [\"BACKLOG\", \"TODO\", \"IN_PROGRESS\", \"DONE\", \"CANCELLED\"];\n  const groupedTickets = groupTicketsByStatus(data === null || data === void 0 ? void 0 : data.tickets);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.boardContainer,\n    children: STATUS_OPTIONS.map(status => {\n      return /*#__PURE__*/_jsxDEV(CardContainer, {\n        grouping: grouping,\n        status: status,\n        data: groupedTickets[status]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_c2 = BoardByStatus;\nconst BoardByUser = (data, grouping) => {\n  const groupedTickets = groupTicketsByUser(data === null || data === void 0 ? void 0 : data.tickets);\n  console.log('groupedTickets', groupedTickets);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.boardContainer,\n    children: data === null || data === void 0 ? void 0 : data.users.map(userData => {\n      console.log('userData', userData.id);\n      return /*#__PURE__*/_jsxDEV(CardContainer, {\n        grouping: grouping,\n        data: groupedTickets[userData.id],\n        userData: userData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_c3 = BoardByUser;\nconst BoardByPriority = (data, grouping) => {\n  const groupedTickets = groupTicketsByPriority(data === null || data === void 0 ? void 0 : data.tickets);\n  console.log('groupedTickets', groupedTickets);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.boardContainer,\n    children: [0, 4, 3, 2, 1].map(priority => {\n      return /*#__PURE__*/_jsxDEV(CardContainer, {\n        grouping: grouping,\n        data: groupedTickets[priority],\n        priority: priority\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_c4 = BoardByPriority;\nexport default Board;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Board\");\n$RefreshReg$(_c2, \"BoardByStatus\");\n$RefreshReg$(_c3, \"BoardByUser\");\n$RefreshReg$(_c4, \"BoardByPriority\");","map":{"version":3,"names":["React","styles","CardContainer","useGroupPriority","useFetch","jsxDEV","_jsxDEV","Board","_s","grouping","priority","data","loading","error","children","fileName","_jsxFileName","lineNumber","columnNumber","tickets","sortTickets","BoardByStatus","BoardByUser","BoardByPriority","_c","sortBy","ticketsCopy","sort","a","b","title","localeCompare","groupTicketsByStatus","reduce","acc","ticket","status","toUpperCase","push","groupTicketsByUser","userId","groupTicketsByPriority","STATUS_OPTIONS","groupedTickets","className","boardContainer","map","_c2","console","log","users","userData","id","_c3","_c4","$RefreshReg$"],"sources":["/home/sourabh/n_t/kanban/src/components/Board/Board.jsx"],"sourcesContent":["import React from 'react'\nimport styles from './board.module.css';\nimport CardContainer from './CardContainer';\nimport { useGroupPriority } from '../../providers/GroupPriorityProvider';\nimport useFetch from '../../hooks/useFetch';\n\nconst Board = () => {\n  const { grouping, priority } =\n    useGroupPriority();\n\n    let { data, loading, error } = useFetch('https://api.quicksell.co/v1/internal/frontend-assignment');\n\n    \n    if (loading) {\n      return <div>Loading...</div>;\n    }\n\n    data.tickets = sortTickets(data?.tickets, priority);\n\n    if (error) {\n      return <div>Error: {error}</div>;\n    }\n\n    // console.log('data from board', data);\n  switch (grouping) {\n    case 'STATUS':\n      return BoardByStatus(data, grouping);\n    case 'USER':\n      return BoardByUser(data, grouping);\n    case 'PRIORITY':\n      return BoardByPriority(data, grouping);\n    default:\n      return BoardByStatus(data, grouping);\n  }    \n}\n\nfunction sortTickets(tickets, sortBy) {\n  const ticketsCopy = [...tickets];\n\n  return ticketsCopy.sort((a, b) => {\n    if (sortBy === \"PRIORITY\") {\n      return b.priority - a.priority; \n    } else if (sortBy === \"TITLE\") {\n      return a.title.localeCompare(b.title); \n    } else {\n      return 0; \n    }\n  });\n}\n\nfunction groupTicketsByStatus(tickets) {\n  return tickets.reduce((acc, ticket) => {\n    const status = ticket.status === \"In progress\" ? \"IN_PROGRESS\" : ticket.status.toUpperCase();\n    if (!acc[status]) {\n      acc[status] = [];\n    }\n    acc[status].push(ticket);\n    return acc;\n  }, {});\n}\n\nfunction groupTicketsByUser(tickets) {\n  return tickets.reduce((acc, ticket) => {\n    const userId = ticket.userId; // Get the userId from the ticket\n\n    // Initialize an array for the user if it doesn't exist\n    if (!acc[userId]) {\n      acc[userId] = [];\n    }\n\n    // Push the ticket into the corresponding user's array\n    acc[userId].push(ticket);\n    return acc;\n  }, {});\n}\n\nfunction groupTicketsByPriority(tickets) {\n  return tickets.reduce((acc, ticket) => {\n    const priority = ticket.priority; // Get the priority from the ticket\n\n    // Initialize an array for the priority if it doesn't exist\n    if (!acc[priority]) {\n      acc[priority] = [];\n    }\n\n    // Push the ticket into the corresponding priority's array\n    acc[priority].push(ticket);\n    return acc;\n  }, {});\n}\n\n\nconst BoardByStatus = (data, grouping, priority) => {\n  const STATUS_OPTIONS = [ \"BACKLOG\", \"TODO\", \"IN_PROGRESS\", \"DONE\", \"CANCELLED\"];\n  const groupedTickets = groupTicketsByStatus(data?.tickets);\n  return (\n    <div className={styles.boardContainer}>\n      { STATUS_OPTIONS.map((status) => {\n        return <CardContainer grouping={grouping} status={status} data={groupedTickets[status]} />\n      }) }\n    </div>\n  );\n};\n\nconst BoardByUser = (data, grouping) => {\n  const groupedTickets = groupTicketsByUser(data?.tickets);\n  console.log('groupedTickets', groupedTickets);\n  return (\n    <div className={styles.boardContainer}>\n\n      { data?.users.map((userData) => {\n        console.log('userData', userData.id);\n        return <CardContainer grouping={grouping} data={groupedTickets[userData.id]} userData={userData} />\n      }) }\n    </div>\n  );\n}\n\nconst BoardByPriority = (data, grouping) => {\n  const groupedTickets = groupTicketsByPriority(data?.tickets);\n  console.log('groupedTickets', groupedTickets);\n  return (\n    <div className={styles.boardContainer}>\n      { [0, 4, 3, 2, 1].map((priority) => {\n        return <CardContainer grouping={grouping} data={groupedTickets[priority]} priority={priority} />\n      }) }\n    </div>\n  );\n}\n\n\nexport default Board;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}